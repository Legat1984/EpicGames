{"ast":null,"code":"var _jsxFileName = \"C:\\\\work\\\\client\\\\src\\\\components\\\\Platform\\\\components\\\\chat\\\\ChatManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport ChatWindow from './ChatWindow';\nimport ChatIconButton from './ChatIcon';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatManager = ({\n  theme\n}) => {\n  _s();\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [activeChat, setActiveChat] = useState('general');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState({\n    general: [{\n      id: 1,\n      user: 'Алексей',\n      text: 'Привет! Кто-нибудь играл в \"Колонизаторов\" на русском?',\n      time: '10:30',\n      avatar: 'https://placehold.co/32x32',\n      isOwn: false\n    }, {\n      id: 2,\n      user: 'Мария',\n      text: 'Да, отличная игра! Особенно нравится механика торговли',\n      time: '10:32',\n      avatar: 'https://placehold.co/32x32',\n      isOwn: false\n    }, {\n      id: 3,\n      user: 'Игорь',\n      text: 'Кто-нибудь знает где можно скачать русскую версию?',\n      time: '10:35',\n      avatar: 'https://placehold.co/32x32',\n      isOwn: false\n    }],\n    room1: [{\n      id: 1,\n      user: 'Сергей',\n      text: 'Кто готов к новой партии в \"Домино\"?',\n      time: '11:00',\n      avatar: 'https://placehold.co/32x32',\n      isOwn: false\n    }, {\n      id: 2,\n      user: 'Елена',\n      text: 'Я в игре! Когда старт?',\n      time: '11:02',\n      avatar: 'https://placehold.co/32x32',\n      isOwn: false\n    }]\n  });\n  const [isMobile, setIsMobile] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, activeChat]);\n  const sendMessage = () => {\n    if (message.trim()) {\n      const newMessage = {\n        id: Date.now(),\n        user: 'Вы',\n        text: message,\n        time: new Date().toLocaleTimeString('ru-RU', {\n          hour: '2-digit',\n          minute: '2-digit'\n        }),\n        avatar: 'https://placehold.co/32x32',\n        isOwn: true\n      };\n      setMessages(prev => ({\n        ...prev,\n        [activeChat]: [...prev[activeChat], newMessage]\n      }));\n      setMessage('');\n    }\n  };\n  const toggleChat = () => {\n    setIsChatOpen(!isChatOpen);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ChatIconButton, {\n      isMobile: isMobile,\n      onClick: toggleChat,\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatWindow, {\n      isChatOpen: isChatOpen,\n      toggleChat: toggleChat,\n      activeChat: activeChat,\n      setActiveChat: setActiveChat,\n      messages: messages,\n      message: message,\n      setMessage: setMessage,\n      sendMessage: sendMessage,\n      isMobile: isMobile,\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatManager, \"1RuhmbNTO4K2v9Fb9QhXzPluT8g=\");\n_c = ChatManager;\nexport default ChatManager;\nvar _c;\n$RefreshReg$(_c, \"ChatManager\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ChatWindow","ChatIconButton","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatManager","theme","_s","isChatOpen","setIsChatOpen","activeChat","setActiveChat","message","setMessage","messages","setMessages","general","id","user","text","time","avatar","isOwn","room1","isMobile","setIsMobile","chatEndRef","checkMobile","window","innerWidth","addEventListener","removeEventListener","_chatEndRef$current","current","scrollIntoView","behavior","sendMessage","trim","newMessage","Date","now","toLocaleTimeString","hour","minute","prev","toggleChat","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/work/client/src/components/Platform/components/chat/ChatManager.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport ChatWindow from './ChatWindow';\r\nimport ChatIconButton from './ChatIcon';\r\n\r\nconst ChatManager = ({ theme }) => {\r\n  const [isChatOpen, setIsChatOpen] = useState(false);\r\n  const [activeChat, setActiveChat] = useState('general');\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState({\r\n    general: [\r\n      { id: 1, user: 'Алексей', text: 'Привет! Кто-нибудь играл в \"Колонизаторов\" на русском?', time: '10:30', avatar: 'https://placehold.co/32x32', isOwn: false },\r\n      { id: 2, user: 'Мария', text: 'Да, отличная игра! Особенно нравится механика торговли', time: '10:32', avatar: 'https://placehold.co/32x32', isOwn: false },\r\n      { id: 3, user: 'Игорь', text: 'Кто-нибудь знает где можно скачать русскую версию?', time: '10:35', avatar: 'https://placehold.co/32x32', isOwn: false }\r\n    ],\r\n    room1: [\r\n      { id: 1, user: 'Сергей', text: 'Кто готов к новой партии в \"Домино\"?', time: '11:00', avatar: 'https://placehold.co/32x32', isOwn: false },\r\n      { id: 2, user: 'Елена', text: 'Я в игре! Когда старт?', time: '11:02', avatar: 'https://placehold.co/32x32', isOwn: false }\r\n    ]\r\n  });\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const chatEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth < 768);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, activeChat]);\r\n\r\n  const sendMessage = () => {\r\n    if (message.trim()) {\r\n      const newMessage = {\r\n        id: Date.now(),\r\n        user: 'Вы',\r\n        text: message,\r\n        time: new Date().toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' }),\r\n        avatar: 'https://placehold.co/32x32',\r\n        isOwn: true\r\n      };\r\n      setMessages(prev => ({\r\n        ...prev,\r\n        [activeChat]: [...prev[activeChat], newMessage]\r\n      }));\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  const toggleChat = () => {\r\n    setIsChatOpen(!isChatOpen);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatIconButton\r\n        isMobile={isMobile}\r\n        onClick={toggleChat}\r\n        theme={theme}\r\n      />\r\n      <ChatWindow\r\n        isChatOpen={isChatOpen}\r\n        toggleChat={toggleChat}\r\n        activeChat={activeChat}\r\n        setActiveChat={setActiveChat}\r\n        messages={messages}\r\n        message={message}\r\n        setMessage={setMessage}\r\n        sendMessage={sendMessage}\r\n        isMobile={isMobile}\r\n        theme={theme}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}